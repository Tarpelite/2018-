# 计算机网络Notes 

## 应用层  

域名系统DNS（Domain Name System)是因特网使用的命名系统，用来把便于人们记忆的含有特定含义的主机名转换为便于机器处理的IP地址。相对于IP地址，客户/服务器模型，其协议运行在UDP之上，使用53号端口。  
从概念上可将DNS分为3个部分：层次域名空间、域名服务器和解析器。  

### 层次域名空间  

关于域名中的标号有以下几点要注意：  

1. 表哈中的英文不区分大小写。  
2. 标号中除连字符（-）外不能使用其他的标点符号。  
3. 每一个标号不超过63个字符，多标号组成的完整域名最长不超过255个字符。  
4. 级别最低的域名写在最左边，而级别最高的顶级域名写在最右边。  

顶级域名（Top Level Domain, TLD)有以下三大类：  

1. 国家顶级域名nTLD。国家和某些地区的域名，如“.cn"表示中国,".us"表示美国  
2. 通用顶级域名gTLD,常见的有".com"(公司企业）、“.net"（非盈利性组织）、”.gov"（美国的政府部门）等。  
3. 基础结构域名。 这种顶级域名只有一个，即arpa,用于反向域名解析，因此又称为反向域名。

#### 域名服务器  

1. 根域名服务器  
    最高层次的域名服务器。  
2. 顶级域名服务器  
    负责管理在该顶级域名服务器注册的所有二级域名。  
3. 授权域名服务器（权限域名服务器）  
    每一个主机都必须在授权域名服务器处登记。  
4. 本地域名服务器。  

### 域名解析过程  

1. 主机向本地域名服务器的查询采用的是递归查询。  
2. 本地域名服务器向根域名服务器的查询采用迭代查询。  

## 邮件  

### 电子邮件系统的组成结构  

一个电子邮件系统应该具有三个最主要的组成构件： 用户代理，邮件服务器和电子邮件使用的协议，如SMTP、POP3（或IMAP）等。  
用户代理UA：用户与电子邮件系统的接口，用户代理使用户能够通过一个很友好的接口来发送和接收邮件，用户代理至少应当具有撰写、显示和邮件处理的功能。通常情况下，用户代理就是一个运行在PC上的程序。  
邮件服务器：组成了电子邮件系统的核心。邮件服务器的功能是发送和接收邮件，同时还要想发信人报告邮件传送的情况（已交付、被拒绝、丢失等）。  
邮件服务器采用客户、服务器方式工作，但它能够同时充当客户和服务器。例如，当邮件服务器A向邮件服务器B发送邮件时，A就作为SMTP客户，而B是SMTP服务器；反之，当B向A发送邮件时，B就是SMTP客户，而A就是SMTP服务器。  
邮件发送协议和读取协议：邮件发送协议用于用户代理向邮件服务器发送邮件，或在邮件服务器之间发送邮件，通常使用SMTP；邮件读取协议用于用户代理从邮件服务器读取邮件，如POP3（邮局协议的第3个版本）。  
需要注意的是，SMTP采用的是“推”（Push）的通信方式，即用户代理程序将邮件推送到邮件服务器，而POP3采用的是“拉”（Pull)的通信方式，当用户读取邮件时，用户代理向邮件服务器发出请求，“拉”取用户邮件中的邮件。  

#### 电子邮件格式与MIME  

一个电子邮件分为信封和内容两大部分。邮件内容又分为首部和主体两部分。  

由于SMTP只能传送一定长度的ASCII码，许多其他非英语国家的文字（如中文、俄文、甚至带重音符号的法文或德文）就无法传送，且无法传送可执行文件及其他二进制对象。  

MIME主要包括以下三部分内容：  

1. 5个新的邮件首部字段，包括MIME版本、内容描述、内容标识、内容传送编码和内容类型。  
2. 定义了许多邮件内容的格式，对多媒体电子邮件的表示方法进行了标准化。  
3. 定义了传送编码，可对任何内容格式进行转换，而不会被邮件系统改变。  

### SMTP协议  

SMTP用的是TCP连接，端口号为25。SMTP通信有以下三个阶段：  

1. 连接建立  
2. 邮件传送  
3. 连接释放  

### POP3协议  

在传输层使用TCP协议，端口号为110，