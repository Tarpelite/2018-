# I/O 管理  

## 概述  

### I/O设备分类  

#### 按使用特性分：  

1. 人机交互类外部设备  
2. 存储设备  
3. 网络通信设备  

#### 按传输速率分：  

1. 低速设备  
2. 中速设备  
3. 高速设备  

#### 按信息交换的单位分类：  

1. 块设备  
2. 字符设备  

### I/O控制方式  

1. 程序直接控制  
2. 中断驱动方式  
3. DMA方式  
4. 通道控制方式  

### I/O子系统的层次结构  

1. 用户层I/O软件：实现与用户交互的接口，用户可直接调用在用户层提供的、与I/O操作有关的库函数，对设备进行操作。  
2. 设备独立性软件：用于实现用户程序与设备驱动器的统一接口、设备命令、设备保护、以及设备分配与释放等，同时为设备管理和数据传送提供必要的存储空间。  
3. 设备驱动程序： 与硬件直接相关，负责具体实现系统对设备发出的操作指令，驱动I/O设备工作的驱动程序。  
4. 中断处理程序  
5. 硬件设备  

### 缓冲区  

缓冲区有一个特点，当缓冲区的数据非空时，不能往缓冲区冲入数据，只能从缓冲区把数据传出。当缓冲区为空时，可以往缓冲区冲入数据，但必须把缓冲区充满以后，才能从缓冲区把数据传出。  

1. 单缓冲 ： 在设备和处理机之间设置一个缓冲区。  
2. 双缓冲： 两个缓冲区交替使用，其中缓冲区2只有充满才可以取出数据。  
3. 循环缓冲：环状链表  
4. 缓冲池  

### 设备分配  

1. 独占式使用设备  
2. 分时式使用设备  
3. **SPOOLing方式虚拟设备** 

#### 设备分配的数据结构  

主要的数据结构有：设备控制表（DCT）、控制器(COCT)、通道控制器(CHCT)和系统设备表(DCT)。  

#### 设备分配的策略  

1. 静态分配： 对于独占设备的分配，它在用户作业开始执行前，由系统一次性分配该作业要求的全部设备、控制器（如通道等）。  
2. 动态分配：是在进程执行过程中更具执行需要进行。  

#### 逻辑设备名到物理设备名的映射  

### SPOOLing系统（虚拟设备技术）——组成、实例