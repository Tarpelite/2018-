# 第二章 文法和语言的概念和表示  

## 预备知识 - 形式语言基础  

### 字母表和符号串  

+ 字母表  
+ 符号
+ 符号串  
+ 空符号串  
+ 符号串集合  

### 符号串和符号串集合的运算  

+ 符号串相等  
+ 符号串的长度  
+ 符号串的联接  
+ 符号串集合的乘积运算  
+ 幂运算
+ 闭包运算

### 文法的非形式讨论

1. 文法是对语言结构的定义与描述  
2. 语法规则，描述句子的语法结构
3. 由规则推导句子  
4. 推导方法：从一个要识别的符号开始推导，即用相应规则的右部来替代规则的左部，每次仅用一条规则去进行推导。 


## 文法和语言的定义 

### 文法的定义  

定义1. 文法 = （ $V_n,V_t,P,Z$ )  

$V_n$:非终结符号集  
$V_t$: 终结符号集  
$P$: 产生式或规则的集合 
$Z$: 开始符号（识别符号） $\epsilon$ $V_n$  

$V = V_n\bigcup V_t$ 称为文法的字汇表  

规则：$U ::= x, U\epsilon V_n, x\epsilon V^*$

规则是一个有序对（U,x) 其中 $|U|=1,|x|\geq 0$  

产生式左边符号构成集合$V_n$,且 $Z \epsilon V_n$。 

有些产生式具有相同的左部，可以合在一起。  
（文法的BNF表示）  

给定一个文法，实际只需给出产生式集合，并制定识别符号。（识别符号一般约定为第一条规则的左部符号） 

+ 规范推导 = 最右推导  
+ 规范规约 = 最左规约  

### 递归文法  

1. 递归规则：规则右部有与左部相同的符号  
2. 递归文法：自嵌入递归，左递归文法，右递归文法。  
3. 左递归文法的缺点： 不能用自顶向下的方法来进行语法分析。  
4. 递归文法的优点： 可用有穷条规则，定义无穷语言  

### 句型的短语、简单短语和句柄  

+ 短语：是前面句型中的某个非终结符所能退出的符号串。  
+ 简单短语：经过直接推导能退出的短语  
+ 任一句型的最左简单短语称为该句型的句柄  

### 语法树与二义性文法 

**子树**：语法树中的某个节点（子树的根）连同它向下派生的部分所组成。  

**定理**：某子树的末端节点按自左向右顺序为句型中的符号串，则该符号串为该句型的相对于该子树根的短语 

+ 对句型中最左简单短语（句柄）进行的规约称为规范规约。  

+ 通过规范推导或规范规约所得到的句型称为规范句型。  

+ 若对于一个文法的某一句子存在两颗不同的语法树，则该文法是二义性文法，否则是无二义性文法。 

+ 若一个文法的某句子存在两个不同的规范推导，则该文法是二义性的，否则是无二义性的。 

+ 若一个文法的某规范句型的句柄不唯一，则该文法是二义性的，否则是无二义性的。  

+ 文法的二义性是不可判定的。  

+ 若文法中有如 $U::=U$的规则，这就是**有害规则**，它会引起二义性。  

+ 多余规则：
1. 在推导文法的所有句子中，始终用不到的规则。即该规则的左部非终结符不出现在任何句型中。 
2. 在推导句子的过程中，一旦使用了该规则，将推不出任何终结符号串。即该规则中含有推不出任何终结符号串的非终结符。  

+ 若某文法中无有害规则或多余规则，则称该文法是压缩过的。  



## 几个重要概念  

## 文法的表示： 扩充的BNF范式和语法图  

1. 扩充的BNF表示（Backus Normal Form)  
+ BNF的元符号： <,>,::=,|  
+ 扩充的BNF的元符号：<,>,::=,|,{,},[,](,   

## 文法和语言的分类

类型|形式|名称|图灵机  
---|---|---|---  
0型|$u::=v$|短语结构|图灵机  
1型|$xUy::=xuy$|上下文敏感，上下文有关|线性界限自动机  
2型|$U::=u$|上下文无关，BNF等价|下推自动机  
3型|左线型，右线型|正则文法|有穷自动机  
